function cov_1llkfp31f(){var path="/home/marcgm97/bootcamp/collab/skylab-bootcamp-202004/staff/marc-guillemas/qrmenu/qrmenu-client-logic/register-establishment.js";var hash="dae12fb566d0d4793e145b9df1e63cf4fea9fc5c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/marcgm97/bootcamp/collab/skylab-bootcamp-202004/staff/marc-guillemas/qrmenu/qrmenu-client-logic/register-establishment.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:42}},"1":{start:{line:2,column:36},end:{line:2,column:61}},"2":{start:{line:3,column:16},end:{line:3,column:36}},"3":{start:{line:12,column:0},end:{line:32,column:15}},"4":{start:{line:13,column:4},end:{line:13,column:34}},"5":{start:{line:14,column:4},end:{line:14,column:21}},"6":{start:{line:15,column:4},end:{line:15,column:25}},"7":{start:{line:16,column:4},end:{line:16,column:55}},"8":{start:{line:18,column:4},end:{line:31,column:6}},"9":{start:{line:26,column:8},end:{line:26,column:33}},"10":{start:{line:26,column:27},end:{line:26,column:33}},"11":{start:{line:28,column:24},end:{line:28,column:40}},"12":{start:{line:30,column:8},end:{line:30,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:12,column:17},end:{line:12,column:18}},loc:{start:{line:12,column:63},end:{line:32,column:1}},line:12},"1":{name:"(anonymous_1)",decl:{start:{line:24,column:10},end:{line:24,column:11}},loc:{start:{line:24,column:30},end:{line:31,column:5}},line:24}},branchMap:{"0":{loc:{start:{line:26,column:8},end:{line:26,column:33}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:33}},{start:{line:26,column:8},end:{line:26,column:33}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"dae12fb566d0d4793e145b9df1e63cf4fea9fc5c"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1llkfp31f=function(){return actualCoverage;};}return actualCoverage;}cov_1llkfp31f();cov_1llkfp31f().s[0]++;require('qrmenu-commons/polyfills/string');const{utils:{Email,NIF,call}}=(cov_1llkfp31f().s[1]++,require('qrmenu-commons'));const context=(cov_1llkfp31f().s[2]++,require('./context'));/**
 * @param {string} establishment name of the establishment
 * @param {string} nif nif of the establishment
 * @param {string} email email of the establishment
 * @param {string} password password of the establishment
 */cov_1llkfp31f().s[3]++;module.exports=function(establishment,nif,email,password){cov_1llkfp31f().f[0]++;cov_1llkfp31f().s[4]++;String.validate(establishment);cov_1llkfp31f().s[5]++;NIF.validate(nif);cov_1llkfp31f().s[6]++;Email.validate(email);cov_1llkfp31f().s[7]++;String.validate.lengthGreaterEqualThan(password,8);cov_1llkfp31f().s[8]++;return call('POST',`${this.API_URL}/establishment`,`{"establishment": "${establishment}", "nif":"${nif}", "email":"${email}", "password": "${password}"}`,{'Content-type':'application/json'}).then(({status,body})=>{cov_1llkfp31f().f[1]++;cov_1llkfp31f().s[9]++;if(status===201){cov_1llkfp31f().b[0][0]++;cov_1llkfp31f().s[10]++;return;}else{cov_1llkfp31f().b[0][1]++;}const{error}=(cov_1llkfp31f().s[11]++,JSON.parse(body));cov_1llkfp31f().s[12]++;throw new Error(error);});}.bind(context);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLWVzdGFibGlzaG1lbnQuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsInV0aWxzIiwiRW1haWwiLCJOSUYiLCJjYWxsIiwiY29udGV4dCIsIm1vZHVsZSIsImV4cG9ydHMiLCJlc3RhYmxpc2htZW50IiwibmlmIiwiZW1haWwiLCJwYXNzd29yZCIsIlN0cmluZyIsInZhbGlkYXRlIiwibGVuZ3RoR3JlYXRlckVxdWFsVGhhbiIsIkFQSV9VUkwiLCJ0aGVuIiwic3RhdHVzIiwiYm9keSIsImVycm9yIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJiaW5kIl0sIm1hcHBpbmdzIjoiZ2dFQWVZO2dIQWZaQSxPQUFPLENBQUMsaUNBQUQsQ0FBUCxDQUNBLEtBQU0sQ0FBQ0MsS0FBSyxDQUFFLENBQUNDLEtBQUQsQ0FBUUMsR0FBUixDQUFhQyxJQUFiLENBQVIsMEJBQThCSixPQUFPLENBQUMsZ0JBQUQsQ0FBckMsQ0FBTixDQUNBLEtBQU1LLENBQUFBLE9BQU8seUJBQUdMLE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBYixDQUVBOzs7OzswQkFPQU0sTUFBTSxDQUFDQyxPQUFQLENBQWlCLFNBQVNDLGFBQVQsQ0FBd0JDLEdBQXhCLENBQTZCQyxLQUE3QixDQUFvQ0MsUUFBcEMsQ0FBOEMsK0NBQzNEQyxNQUFNLENBQUNDLFFBQVAsQ0FBZ0JMLGFBQWhCLEVBRDJELHVCQUUzREwsR0FBRyxDQUFDVSxRQUFKLENBQWFKLEdBQWIsRUFGMkQsdUJBRzNEUCxLQUFLLENBQUNXLFFBQU4sQ0FBZUgsS0FBZixFQUgyRCx1QkFJM0RFLE1BQU0sQ0FBQ0MsUUFBUCxDQUFnQkMsc0JBQWhCLENBQXVDSCxRQUF2QyxDQUFpRCxDQUFqRCxFQUoyRCx1QkFNM0QsTUFBT1AsQ0FBQUEsSUFBSSxDQUNQLE1BRE8sQ0FFTixHQUFFLEtBQUtXLE9BQVEsZ0JBRlQsQ0FHTixzQkFBcUJQLGFBQWMsYUFBWUMsR0FBSSxlQUFjQyxLQUFNLG1CQUFrQkMsUUFBUyxJQUg1RixDQUlQLENBQUMsZUFBaUIsa0JBQWxCLENBSk8sQ0FBSixDQU1OSyxJQU5NLENBTUQsQ0FBQyxDQUFDQyxNQUFELENBQVNDLElBQVQsQ0FBRCxHQUFvQiwrQ0FFdEIsR0FBR0QsTUFBTSxHQUFLLEdBQWQsQ0FBbUIsMERBQU0sQ0FBekIsZ0NBRUEsS0FBTSxDQUFDRSxLQUFELDJCQUFVQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsSUFBWCxDQUFWLENBQU4sQ0FKc0Isd0JBTXRCLEtBQU0sSUFBSUksQ0FBQUEsS0FBSixDQUFVSCxLQUFWLENBQU4sQ0FDSCxDQWJNLENBQVAsQ0FjSCxDQXBCZ0IsQ0FvQmZJLElBcEJlLENBb0JWbEIsT0FwQlUsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdxcm1lbnUtY29tbW9ucy9wb2x5ZmlsbHMvc3RyaW5nJylcbmNvbnN0IHt1dGlsczoge0VtYWlsLCBOSUYsIGNhbGx9fSA9IHJlcXVpcmUoJ3FybWVudS1jb21tb25zJylcbmNvbnN0IGNvbnRleHQgPSByZXF1aXJlKCcuL2NvbnRleHQnKVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlc3RhYmxpc2htZW50IG5hbWUgb2YgdGhlIGVzdGFibGlzaG1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBuaWYgbmlmIG9mIHRoZSBlc3RhYmxpc2htZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZW1haWwgZW1haWwgb2YgdGhlIGVzdGFibGlzaG1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCBwYXNzd29yZCBvZiB0aGUgZXN0YWJsaXNobWVudFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXN0YWJsaXNobWVudCwgbmlmLCBlbWFpbCwgcGFzc3dvcmQgKXtcbiAgICBTdHJpbmcudmFsaWRhdGUoZXN0YWJsaXNobWVudClcbiAgICBOSUYudmFsaWRhdGUobmlmKVxuICAgIEVtYWlsLnZhbGlkYXRlKGVtYWlsKVxuICAgIFN0cmluZy52YWxpZGF0ZS5sZW5ndGhHcmVhdGVyRXF1YWxUaGFuKHBhc3N3b3JkLCA4KVxuICAgIFxuICAgIHJldHVybiBjYWxsKFxuICAgICAgICAnUE9TVCcsXG4gICAgICAgIGAke3RoaXMuQVBJX1VSTH0vZXN0YWJsaXNobWVudGAsXG4gICAgICAgIGB7XCJlc3RhYmxpc2htZW50XCI6IFwiJHtlc3RhYmxpc2htZW50fVwiLCBcIm5pZlwiOlwiJHtuaWZ9XCIsIFwiZW1haWxcIjpcIiR7ZW1haWx9XCIsIFwicGFzc3dvcmRcIjogXCIke3Bhc3N3b3JkfVwifWAsXG4gICAgICAgIHsnQ29udGVudC10eXBlJyA6ICdhcHBsaWNhdGlvbi9qc29uJ31cbiAgICApXG4gICAgLnRoZW4oKHtzdGF0dXMsIGJvZHl9KSA9PiB7XG4gICAgICAgIFxuICAgICAgICBpZihzdGF0dXMgPT09IDIwMSkgcmV0dXJuXG5cbiAgICAgICAgY29uc3Qge2Vycm9yfSA9IEpTT04ucGFyc2UoYm9keSlcblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpXG4gICAgfSlcbn0uYmluZChjb250ZXh0KSJdfQ==