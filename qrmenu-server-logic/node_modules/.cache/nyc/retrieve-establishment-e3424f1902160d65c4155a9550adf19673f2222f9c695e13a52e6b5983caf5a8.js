function cov_5mm45gs7s(){var path="/home/marcgm97/bootcamp/collab/skylab-bootcamp-202004/staff/marc-guillemas/qrmenu/qrmenu-server-logic/retrieve-establishment.js";var hash="55381b23cfba7858e1cd806d67a5f9bca0e203e7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/marcgm97/bootcamp/collab/skylab-bootcamp-202004/staff/marc-guillemas/qrmenu/qrmenu-server-logic/retrieve-establishment.js",statementMap:{"0":{start:{line:1,column:0},end:{line:1,column:42}},"1":{start:{line:2,column:36},end:{line:2,column:58}},"2":{start:{line:3,column:37},end:{line:3,column:62}},"3":{start:{line:9,column:0},end:{line:19,column:1}},"4":{start:{line:10,column:4},end:{line:10,column:44}},"5":{start:{line:12,column:4},end:{line:18,column:8}},"6":{start:{line:14,column:30},end:{line:14,column:75}},"7":{start:{line:15,column:8},end:{line:15,column:112}},"8":{start:{line:15,column:27},end:{line:15,column:112}},"9":{start:{line:17,column:8},end:{line:17,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:17},end:{line:9,column:18}},loc:{start:{line:9,column:38},end:{line:19,column:1}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:12},end:{line:12,column:13}},loc:{start:{line:12,column:23},end:{line:18,column:5}},line:12}},branchMap:{"0":{loc:{start:{line:15,column:8},end:{line:15,column:112}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:112}},{start:{line:15,column:8},end:{line:15,column:112}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"55381b23cfba7858e1cd806d67a5f9bca0e203e7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_5mm45gs7s=function(){return actualCoverage;};}return actualCoverage;}cov_5mm45gs7s();cov_5mm45gs7s().s[0]++;require('qrmenu-commons/polyfills/string');const{models:{Establishment}}=(cov_5mm45gs7s().s[1]++,require('qrmenu-data'));const{errors:{UnexistenceError}}=(cov_5mm45gs7s().s[2]++,require('qrmenu-commons'));/**
 * 
 * @param {string} establishmentId id of the establishment
 */cov_5mm45gs7s().s[3]++;module.exports=establishmentId=>{cov_5mm45gs7s().f[0]++;cov_5mm45gs7s().s[4]++;String.validate.notVoid(establishmentId);cov_5mm45gs7s().s[5]++;return(async()=>{cov_5mm45gs7s().f[1]++;const establishment=(cov_5mm45gs7s().s[6]++,await Establishment.findById(establishmentId));cov_5mm45gs7s().s[7]++;if(!establishment){cov_5mm45gs7s().b[0][0]++;cov_5mm45gs7s().s[8]++;throw new UnexistenceError(`Establishment with id ${establishmentId} does not exist`);}else{cov_5mm45gs7s().b[0][1]++;}cov_5mm45gs7s().s[9]++;return establishment.establishment;})();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJldHJpZXZlLWVzdGFibGlzaG1lbnQuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIm1vZGVscyIsIkVzdGFibGlzaG1lbnQiLCJlcnJvcnMiLCJVbmV4aXN0ZW5jZUVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyIsImVzdGFibGlzaG1lbnRJZCIsIlN0cmluZyIsInZhbGlkYXRlIiwibm90Vm9pZCIsImVzdGFibGlzaG1lbnQiLCJmaW5kQnlJZCJdLCJtYXBwaW5ncyI6ImswREFlWTtnSEFmWkEsT0FBTyxDQUFDLGlDQUFELENBQVAsQ0FDQSxLQUFNLENBQUVDLE1BQU0sQ0FBRSxDQUFDQyxhQUFELENBQVYsMEJBQThCRixPQUFPLENBQUMsYUFBRCxDQUFyQyxDQUFOLENBQ0EsS0FBTSxDQUFDRyxNQUFNLENBQUUsQ0FBQ0MsZ0JBQUQsQ0FBVCwwQkFBK0JKLE9BQU8sQ0FBQyxnQkFBRCxDQUF0QyxDQUFOLENBRUE7OzswQkFJQUssTUFBTSxDQUFDQyxPQUFQLENBQWtCQyxlQUFELEVBQXFCLCtDQUNsQ0MsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxPQUFoQixDQUF3QkgsZUFBeEIsRUFEa0MsdUJBR2xDLE1BQU8sQ0FBQyxTQUFXLHdCQUVmLEtBQU1JLENBQUFBLGFBQWEseUJBQUcsS0FBTVQsQ0FBQUEsYUFBYSxDQUFDVSxRQUFkLENBQXVCTCxlQUF2QixDQUFULENBQW5CLENBRmUsdUJBR2YsR0FBRyxDQUFDSSxhQUFKLENBQW1CLHVEQUFNLElBQUlQLENBQUFBLGdCQUFKLENBQXNCLHlCQUF3QkcsZUFBZ0IsaUJBQTlELENBQU4sQ0FBcUYsQ0FBeEcsZ0NBSGUsdUJBS2YsTUFBT0ksQ0FBQUEsYUFBYSxDQUFDQSxhQUFyQixDQUNILENBTk0sR0FBUCxDQU9ILENBVkQiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdxcm1lbnUtY29tbW9ucy9wb2x5ZmlsbHMvc3RyaW5nJylcbmNvbnN0IHsgbW9kZWxzOiB7RXN0YWJsaXNobWVudH0gfSA9IHJlcXVpcmUoJ3FybWVudS1kYXRhJylcbmNvbnN0IHtlcnJvcnM6IHtVbmV4aXN0ZW5jZUVycm9yfX0gPSByZXF1aXJlKCdxcm1lbnUtY29tbW9ucycpXG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gZXN0YWJsaXNobWVudElkIGlkIG9mIHRoZSBlc3RhYmxpc2htZW50XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gKGVzdGFibGlzaG1lbnRJZCkgPT4ge1xuICAgIFN0cmluZy52YWxpZGF0ZS5ub3RWb2lkKGVzdGFibGlzaG1lbnRJZClcbiAgICBcbiAgICByZXR1cm4gKGFzeW5jKCkgPT4ge1xuICAgIFxuICAgICAgICBjb25zdCBlc3RhYmxpc2htZW50ID0gYXdhaXQgRXN0YWJsaXNobWVudC5maW5kQnlJZChlc3RhYmxpc2htZW50SWQpXG4gICAgICAgIGlmKCFlc3RhYmxpc2htZW50KSB0aHJvdyBuZXcgVW5leGlzdGVuY2VFcnJvcihgRXN0YWJsaXNobWVudCB3aXRoIGlkICR7ZXN0YWJsaXNobWVudElkfSBkb2VzIG5vdCBleGlzdGApICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBlc3RhYmxpc2htZW50LmVzdGFibGlzaG1lbnRcbiAgICB9KSgpXG59Il19